{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>KnowInDeep</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="{% static  'css/style.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <nav id="navbar">
        <div class="nav-wrapper container">
            <a href="{% url 'blogs:index' %}">
                <img src="/static/images/kid-white.png" class="brand-logo" alt="brandLogo" height="100%">
            </a>
            <!-- <a href="{% url 'blogs:index' %}" class="brand-logo">KnowInDeep</a> -->
            <a href="#" data-target="mobile-demo" class="sidenav-trigger right"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down" id="nav-mobile">
                <li><a href="{% url 'blogs:index' %}">Home</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="#"><i class="material-icons left">search</i>Search</a></li>
                <li><button class="waves-effect waves-light btn" id="logInBtn">
                        {% if request.user.is_authenticated %}
                        <a href="{% url 'site_users:logout' %}" style="display: block; width: 100%;">
                            Log Out
                        </a>
                        {% else %}
                        <a id="loginLink" data-href="{% url 'site_users:login' %}" target="#loginDialog" type="button">
                            Login
                        </a>
                        {% endif %}
                    </button></li>
            </ul>
        </div>
    </nav>

    <div>
    
    <div class="modal" id="loginDialog">
        <div class="row">
            <div class="col-10 offset-1">
                <h1 class="center">Login with</h1>
            </div>
            <div class="col-1">
                <span class="center icon-btn" id="closeDialog">X</span>
            </div>
        </div>
        <div class="row" style="margin-top: 100px;">
            <div class="col-6 center">
                <a id="googleLogin" google-href="{% url 'social:begin' 'google-oauth2' %}?next={{request.path}}"
                    class="icon-btn">
                    <img src="/static/images/google-logo.svg" alt="googleLogo" width="200" height="200" />
                </a>
            </div>
            <div class="col-6 center">
                <a id="githubLogin" github-href="{% url 'social:begin' 'github' %}?next={{request.path}}" class="icon-btn">
                    <img src="/static/images/github-logo.svg" alt="githubLogo" width="200" height="200" />
                </a>
            </div>
        </div>
    
        <!-- <dialog id="loginDialog" class="container">
                <i class="fa fa-google-plus-square" style="font-size:36px" id="googleLogin" google-href="{% url 'social:begin' 'google-oauth2' %}?next={{request.path}}"></i>
                <i class="fa fa-github" style="font-size:36px" id="githubLogin" github-href="{% url 'social:begin' 'github' %}?next={{request.path}}"></i>
            </dialog> -->
    </div>

    <ul class="sidenav" id="mobile-demo">
        <li><a href="{% url 'blogs:index' %}">Home</a></li>
        <!-- <li><a href="#">Blogs</a></li> -->
        <li><a href="#">About Us</a></li>
        <li><a href="#"><i class="material-icons left">search</i>Search</a></li>
        <li><button href="{% url 'site_users:logout' %}" class="waves-effect waves-light btn">Log Out</button></li>
    </ul>

    {%block content %}
    {% endblock %}

    <!-- <script src="https://cdnjs.cloudflare.com/ajax /libs/materialize/1.0.0/js/materialize.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
    </script>

    <script type="text/JavaScript">
    (function() {    
        var dialog = document.getElementById('loginDialog');    
        document.getElementById('loginLink').onclick = function() {  
            dialog.style.display = "block";
        };    
        
        window.onclick = function() {
            if (event.target == dialog) {
                dialog.style.display = "none";
            };
        };

        document.getElementById('googleLogin').onclick = function() {    
            var url = this.getAttribute('google-href')
            window.open(url,"_self")
        };    

        document.getElementById('closeDialog').onclick = function() {
            dialog.style.display = "none";
        };

        document.getElementById('githubLogin').onclick = function() {    
            var url = this.getAttribute('github-href')
            window.open(url,"_self")
        }; 

        document.addEventListener('DOMContentLoaded', function() {
            var element = document.querySelectorAll('.sidenav');
            var instances = M.Sidenav.init(element, options);
        });
    })();   
    </script>
    <script>
        $(document).ready(function () {
            {% block jquery %}
        {% endblock jquery %}
        })
    </script>

</body>

</html>